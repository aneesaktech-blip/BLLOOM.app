<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Men — BLLOOM</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond&family=Inter&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="shop.css">
</head>
<body>

<header class="shop-header">
  <div class="brand">BLLOOM</div>
  <nav>
    <a href="shop-women.html">Women</a>
    <a href="shop-kids.html">Kids</a>
    <a href="viewed.html">Recently Viewed</a>
  </nav>
</header>

<section class="shop-hero">
  <h1>Men</h1>
  <p>Minimal. Intelligent. Modern.</p>
</section>

<main class="shop-grid">

  <a href="product.html" class="product" onclick="trackProduct('m1','Urban Linen Shirt',1999)">
    <img src="https://images.unsplash.com/photo-1526170375885-4d8ecf77b99f">
    <h3>Urban Linen Shirt</h3>
    <span>₹1,999</span>
  </a>

  <a href="product.html" class="product" onclick="trackProduct('m2','Midnight Co-Ord',3499)">
    <img src="https://images.unsplash.com/photo-1529139574466-a303027c1d8b">
    <h3>Midnight Co-Ord</h3>
    <span>₹3,499</span>
  </a>

  <a href="product.html" class="product" onclick="trackProduct('m3','Classic Sneakers',2599)">
    <img src="https://images.unsplash.com/photo-1525966222134-fcfa99b8ae77">
    <h3>Classic Sneakers</h3>
    <span>₹2,599</span>
  </a>

</main>

<script>
function trackProduct(id, name, price) {
  let viewed = JSON.parse(localStorage.getItem("recentlyViewed")) || [];
  viewed = viewed.filter(p => p.id !== id);

  viewed.push({
    id,
    name,
    price,
    link: event.currentTarget.href
  });

  if (viewed.length > 6) viewed.shift();
  localStorage.setItem("recentlyViewed", JSON.stringify(viewed));
}
</script>

</body>
</html>
